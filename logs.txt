[replication-11] Running tests for Replication > Stage #11: Single-replica propagation
[replication-11] $ ./spawn_redis_server.sh --port 6379
[your_program] Listening on [::]:6379
[replication-11] replica: $ redis-cli PING
[replication-11] replica: Sent bytes: "*1\r\n$4\r\nPING\r\n"
[replication-11] replica: Received RESP value: "PONG"
[your_program] Received: *1
[your_program] $4
[your_program] PING
[your_program]  From: [::1]:39018
[your_program] Command: ping, Args: []
[your_program] Sent: +PONG
[your_program] 
[replication-11] Received "PONG"
[replication-11] replica: $ redis-cli REPLCONF listening-port 6380
[replication-11] replica: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"
[replication-11] replica: Received RESP value: "OK"
[your_program] Received: *3
[your_program] $8
[your_program] REPLCONF
[your_program] $14
[your_program] listening-port
[your_program] $4
[your_program] 6380
[your_program]  From: [::1]:39018
[your_program] Command: replconf, Args: [listening-port 6380]
[your_program] Sent: +OK
[your_program] 
[replication-11] Received "OK"
[replication-11] replica: $ redis-cli REPLCONF capa psync2
[replication-11] replica: Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"
[replication-11] replica: Received RESP value: "OK"
[your_program] Received: *3
[your_program] $8
[your_program] REPLCONF
[your_program] $4
[your_program] capa
[your_program] $6
[your_program] psync2
[your_program]  From: [::1]:39018
[your_program] Command: replconf, Args: [capa psync2]
[your_program] Sent: +OK
[your_program] 
[replication-11] Received "OK"
[replication-11] replica: $ redis-cli PSYNC ? -1
[replication-11] replica: Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"
[replication-11] replica: Received RESP value: "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
[replication-11] Received "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
[replication-11] Reading RDB file...
[your_program] Received: *3
[your_program] $5
[your_program] PSYNC
[your_program] $1
[your_program] ?
[your_program] $2
[your_program] -1
[your_program]  From: [::1]:39018
[your_program] Command: psync, Args: [? -1]
[your_program] Sent: $88
[your_program] REDIS0011�	redis-ver7.2.0�
[your_program] redis-bits�@�ctime�m�e�used-mem°��aof-base���n;���Z�
[replication-11] Received RDB file.
[replication-11] client: $ redis-cli SET foo 123
[replication-11] client: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
[replication-11] client: Received RESP value: "OK"
[your_program] Received: *3
[your_program] $3
[your_program] SET
[your_program] $3
[your_program] foo
[your_program] $3
[your_program] 123
[your_program]  From: [::1]:39016
[your_program] Command: set, Args: [foo 123]
[your_program] Sent: +OK
[your_program] 
[replication-11] Received "OK"
[replication-11] client: $ redis-cli SET bar 456
[replication-11] client: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbar\r\n$3\r\n456\r\n"
[replication-11] client: Received RESP value: "OK"
[your_program] Received: *3
[your_program] $3
[your_program] SET
[your_program] $3
[your_program] bar
[your_program] $3
[your_program] 456
[your_program]  From: [::1]:39016
[your_program] Command: set, Args: [bar 456]
[your_program] Sent: +OK
[your_program] 
[replication-11] Received "OK"
[replication-11] client: $ redis-cli SET baz 789
[replication-11] client: Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"
[replication-11] client: Received RESP value: "OK"
[your_program] Received: *3
[your_program] $3
[your_program] SET
[your_program] $3
[your_program] baz
[your_program] $3
[your_program] 789
[your_program]  From: [::1]:39016
[your_program] Command: set, Args: [baz 789]
[your_program] Sent: +OK
[your_program] 
[replication-11] Received "OK"
[replication-11] replica: Received RESP value: ["SET", "foo", "123"]
[replication-11] Received ["SET", "foo", "123"]
[replication-11] replica: Received bytes:
[replication-11] Received: "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
[replication-11]            ^ error
[replication-11] Error: "\x00" is not a valid start of a RESP value (expected +, -, :, $ or *)
[replication-11] Test failed
[replication-11] Terminating program
[replication-11] Program terminated successfully